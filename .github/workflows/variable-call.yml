name: Send Variable from Script File to YAML File

on: push

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Check out repository code
        uses: actions/checkout@v3

      - name: Send Variable from Script File to YAML File
        shell: pwsh
        run: |
          Invoke-Pester ./variable-call.ps1 -Passthru

      - name: Print Variable in YAML File
        id: print_variable
        run: |
          echo "Variable value: ${{ steps.send_variable.outputs.my_variable }}"

      - name: Debug Print Variable
        run: |
          echo "Variable value: ${{ steps.print_variable.outputs }}"
